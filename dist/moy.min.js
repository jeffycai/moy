var bar=function(t){"use strict";function e(t,e){for(var r=0;r<m.registeredControls.length;r++)if(m.registeredControls[r].className===t)return void 0!==e&&(m.registeredControls[r]=e),m.registeredControls[r];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function n(t,e){return-1!=r(t).indexOf(e)}function o(t,o){if(!("object"===(void 0===t?"undefined":f(t))&&t instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var a=r(t),s=[];if(o)n(t,o)||s.push(e(o));else for(var i=t.className,c=0;c<m.registeredControls.length;c++){var l=m.registeredControls[c];i.indexOf(l.cssClass)>-1&&-1===s.indexOf(l)&&!n(t,l.className)&&s.push(l)}for(var u,c=0,p=s.length;c<p;c++){if(!(u=s[c]))throw new Error("Unable to find a registered component for the given class.");if(!t[u.className]){a.push(u.className),t.setAttribute("data-upgraded",a.join(","));var d=new u.classConstructor(t);m.createdControls.push(d);for(var h=0,y=u.callbacks.length;h<y;h++)u.callbacks[h](t);t[u.className]=d}}}function a(t,r,n){if(void 0===t&&void 0===r)for(var s=0;s<m.registeredControls.length;s++)a(m.registeredControls[s].className,registeredControls[s].cssClass,n);else{var i=t;if(!r){var c=e(i);c&&(r=c.cssClass)}var l;l=n?p(n,r)?[n]:n.querySelectorAll("."+r):document.querySelectorAll("."+r);for(var u=0;u<l.length;u++)o(l[u],i)}}function s(t){var e,r;for(e in t)r=t[e],C.Mutators.hasOwnProperty(e)?C.Mutators[e].call(this,r):this.prototype[e]=r}function i(t){return t.extend=C.extend,t.implement=s,t}function c(){}function l(t,e,r){for(var n in e)if(e.hasOwnProperty(n)){if(r&&-1===N(r,n))continue;"prototype"!==n&&(t[n]=e[n])}}var p=function(t,e){return!!t&&((!t.nodeName||"#text"!==t.nodeName&&"#comment"!==t.nodeName)&&(void 0===t.classList?u._hasClass?u._hasClass(t,e):$(t).hasClass(e):t.classList.contains(e)))},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},g=function(t,e){if(!e instanceof Array)throw"arguments is not Array";for(var r=0,n=e.length;r<n;r++)if(t==e[r])return!0;return!1},v=function(t,e){if(t.forEach)t.forEach(function(t,r){e(r,t)});else{if(!(t instanceof Object))return;for(var r in t)e(r,t[r])}};try{NodeList.prototype.forEach=Array.prototype.forEach}catch(t){}String.prototype.lengthb=function(){return this.replace(/[^\x00-\xff]/g,"**").length},String.prototype.replaceAll=function(t,e){var r=new RegExp(t,"g");return this.replace(r,e)};var m={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(t){if(t)var e=t.el||document.body,r=t.model;"string"==typeof e&&(e=document.body.querySelector(e)),null!=e&&"object"==(void 0===e?"undefined":f(e))||(e=document.body),e.querySelectorAll("[u-meta]").forEach(function(t){if(!t.comp){var e=JSON.parse(t.getAttribute("u-meta"));if(e&&e.type){var n=m.createDataAdapter({el:t,options:e,model:r});n&&(t.adpt=n,t["u-meta"]=n)}}})},addPlug:function(t){var e=t.plug,r=t.name;if(this.plugs||(this.plugs={}),this.plugs[r])throw new Error("plug has exist:"+r);e.compType=r,this.plugs[r]=e},addDataAdapter:function(t){var e=t.adapter,r=t.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[r])throw new Error("dataAdapter has exist:"+r);this.dataAdapters[r]=e},getDataAdapter:function(t){if(t)return this.dataAdapters||(dataAdapters={}),this.dataAdapters[t]},createDataAdapter:function(t){var e=t.options,r=e.type,n=e.id,o=this.dataAdapters[r];if(!o)return null;var a=new o(t);return a.type=r,a.id=n,a},_createComp:function(t){var e=t.options.type,r=this.plugs[e];if(!r)return null;var n=new r(t);return n.type=e,n},regComp:function(t){var e={classConstructor:t.comp,className:t.compAsString||t.compAsString,cssClass:t.css||t.css,callbacks:[],dependencies:t.dependencies||[]};t.comp.prototype.compType=t.compAsString;for(var r=0;r<this.registeredControls.length;r++){var n=this.registeredControls[r];if(n.cssClass===e.cssClass)throw new Error("The provided cssClass has already been registered: "+n.cssClass);if(n.className===e.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(e)},updateComp:function(t){this._reorderComps();for(var e=0;e<this.registeredControls.length;e++)a(this.registeredControls[e].className,null,t)},_reorderComps:function(){function t(n){if(!g(n,e)){if(n.dependencies.length>0)for(var o=0,a=n.dependencies.length;o<a;o++)t(r[n.dependencies[o]]);e.push(n)}}for(var e=[],r={},n=0;n<this.registeredControls.length;n++)r[this.registeredControls[n].className]=this.registeredControls[n];for(n=0;n<this.registeredControls.length;n++)t(this.registeredControls[n]);this.registeredControls=e}},b=m,C=function t(e){if(!(this instanceof t)&&k(e))return i(e)};C.create=function(t,e){function r(){var e;return t.apply(this,arguments),this.constructor===r&&this.initialize&&(e=this.initialize.apply(this,arguments)),e||this}return k(t)||(e=t,t=null),e||(e={}),t||(t=e.Extends||C),e.Extends=t,t!==C&&l(r,t,t.StaticsWhiteList),s.call(r,e),i(r)},C.extend=function(t){return t||(t={}),t.Extends=this,C.create(t)},C.Mutators={Extends:function(t){var e=this.prototype,r=A(t.prototype);l(r,e),r.constructor=this,this.prototype=r,this.superclass=t.prototype},Implements:function(t){S(t)||(t=[t]);for(var e,r=this.prototype;e=t.shift();)l(r,e.prototype||e)},Statics:function(t){l(this,t)}};var A=Object.__proto__?function(t){return{__proto__:t}}:function(t){return c.prototype=t,new c},w=Object.prototype.toString,S=Array.isArray||function(t){return"[object Array]"===w.call(t)},k=function(t){return"[object Function]"===w.call(t)},N=function(t,e){if(Array.prototype.indexOf&&t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},E=!0,O={toString:1};for(var x in O)E=null;E&&(E=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var _=function(t,e){var r,n=arguments;if(n.length>1)for(var o=1;o<n.length;o++)if(r=n[o],t&&r&&"object"===(void 0===r?"undefined":f(r))){var a,s,i;for(a in r)t[a]=r[a];if(E)for(s=E.length;s--;)i=E[s],r.hasOwnProperty&&r.hasOwnProperty(i)&&(t[i]=r[i])}return t};Object.assign||(Object.assign=_),(j={}).special_keys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},j.shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},j.add=function(t,e,r){k(e)&&(r=e,e={});var n={},o={type:"keydown",propagate:!1,disableInInput:!1,target:document.body,checkParent:!0},a=this;n=_(n,o,e||{}),t=t.toLowerCase();var s=n.target.hotkeys;return s||(n.target.hotkeys=s={events:{}}),s.events[n.type]||(s.events[n.type]={callbackMap:{}},on(n.target,n.type,function(t){var e=this;if(e=3==e.nodeType?e.parentNode:e,n.disableInInput){var r=e;if("INPUT"==r.tagName||"TEXTAREA"==r.tagName)return}var o=t.which,s=t.type,i=String.fromCharCode(o).toLowerCase(),c=a.special_keys[o],l=t.shiftKey,u=t.ctrlKey,p=t.altKey,f=null;if(n.checkParent)for(;!e.hotkeys&&e.parentNode;)e=e.parentNode;var d=e.hotkeys.events[s].callbackMap;if(l||u||p){var h="";p&&(h+="alt+"),u&&(h+="ctrl+"),l&&(h+="shift+"),f=d[h+c]||d[h+i]||d[h+a.shift_nums[i]]}else f=d[c]||d[i];if(f&&(f.cb(t),!f.propagate))return t.stopPropagation(),t.preventDefault(),!1})),s.events[n.type].callbackMap[t]={cb:r,propagate:n.propagate},j},j.remove=function(t,e){e=e||{},target=e.target||document.body,type=e.type||"keydown",t=t.toLowerCase(),delete target.hotkeys.events[type].callbackMap[t]},j.scan=function(t,e){(t=t||document.body).querySelectorAll("[u-enter]").forEach(function(r){var n=r.getAttribute("u-enter");if(n)if("#"==n.substring(0,1))j.add("enter",{target:this},function(){var e=t.querySelector(n);e&&e.focus()});else{e=e||window;var o=h(e,n);j.add("enter",{target:this},function(){o.call(this)})}}),t.querySelectorAll("[u-hotkey]").forEach(function(t){var e=t.getAttribute("u-hotkey");e&&j.add(e,function(){t.click()})})};var j=j,M=function t(){d(this,t),this.init=T,this.dataTables={}},T=function(t,e,r){var n=this;e=e||document.body,y(e)||(e=[e]),this.elements=e,this.comps=[],v(this.elements,function(e,o){"string"==typeof o&&(o=document.querySelector(o)),o&&o.querySelectorAll("[u-meta]").forEach(function(e){var r=JSON.parse(e.getAttribute("u-meta"));if(r.type=r.type||"string",r&&r.type){n.adjustFunc&&n.adjustFunc.call(n,r);var o=b.createDataAdapter({el:e,options:r,model:t,app:n});e["u-meta"]=o,n.comps.push(o)}}),j&&j.scan(o),void 0!==r&&1!=r||ko.applyBindings(t,o),b.updateComp(o)}),Moy.DataTable&&"function"==typeof Moy.DataTable&&P(this,t)},P=function(t,e){for(var r in e)e[r]&&e[r]instanceof Moy.DataTable&&(e[r].id=r,e[r].parent=e,t.addDataTable(e[r]))},D={createApp:function(){var t=new M;if(arguments.length>0){var e=arguments[0];t.init(e.model,e.el)}return t},compMgr:b};return function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=toArray(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}(D),function(t){t.component=function(){}}(D),window.Moy=D,t.Moy=D,t}({});
