var Moy=function(){"use strict";function t(t,e){for(var r=0;r<C.registeredControls.length;r++)if(C.registeredControls[r].className===t)return void 0!==e&&(C.registeredControls[r]=e),C.registeredControls[r];return!1}function e(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function r(t,r){return-1!=e(t).indexOf(r)}function o(o,n){if(!("object"===(void 0===o?"undefined":v(o))&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var s=e(o),a=[];if(n)r(o,n)||a.push(t(n));else for(var i=o.className,c=0;c<C.registeredControls.length;c++){var l=C.registeredControls[c];i.indexOf(l.cssClass)>-1&&-1===a.indexOf(l)&&!r(o,l.className)&&a.push(l)}for(var u,c=0,p=a.length;c<p;c++){if(!(u=a[c]))throw new Error("Unable to find a registered component for the given class.");if(!o[u.className]){s.push(u.className),o.setAttribute("data-upgraded",s.join(","));var d=new u.classConstructor(o);C.createdControls.push(d);for(var f=0,h=u.callbacks.length;f<h;f++)u.callbacks[f](o);o[u.className]=d}}}function n(e,r,s){if(void 0===e&&void 0===r)for(var a=0;a<C.registeredControls.length;a++)n(C.registeredControls[a].className,registeredControls[a].cssClass,s);else{var i=e;if(!r){var c=t(i);c&&(r=c.cssClass)}var l;l=s?d(s,r)?[s]:s.querySelectorAll("."+r):document.querySelectorAll("."+r);for(var u=0;u<l.length;u++)o(l[u],i)}}function s(t){var e,r;for(e in t)r=t[e],w.Mutators.hasOwnProperty(e)?w.Mutators[e].call(this,r):this.prototype[e]=r}function a(t){return t.extend=w.extend,t.implement=s,t}function i(){}function c(t,e,r){for(var o in e)if(e.hasOwnProperty(o)){if(r&&-1===T(r,o))continue;"prototype"!==o&&(t[o]=e[o])}}function l(t){var e=p(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):"function"==typeof t&&t.apply(null,e),this}function p(t,e){e=e||0;for(var r=t.length-e,o=new Array(r);r--;)o[r]=t[r+e];return o}var d=function(t,e){return!!t&&((!t.nodeName||"#text"!==t.nodeName&&"#comment"!==t.nodeName)&&(void 0===t.classList?u._hasClass?u._hasClass(t,e):$(t).hasClass(e):t.classList.contains(e)))},f=function t(e,r){return r||((r={}).top=0,r.left=0),e==document.body?r:(r.top+=e.offsetTop,r.left+=e.offsetLeft,e.offsetParent?t(e.offsetParent,r):r)},m=function t(e,r){return r||((r={}).top=0,r.left=0),e==document.body?(r.top+=e.scrollTop||document.documentElement.scrollTop,r.left+=e.scrollLeft||document.documentElement.scrollLeft,r):("INPUT"!=e.tagName&&(r.top+=e.scrollTop,r.left+=e.scrollLeft),e.parentNode?t(e.parentNode,r):r)},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},b=function(t,e){if(!e instanceof Array)throw"arguments is not Array";for(var r=0,o=e.length;r<o;r++)if(t==e[r])return!0;return!1},E=function(t,e){if(t.forEach)t.forEach(function(t,r){e(r,t)});else{if(!(t instanceof Object))return;for(var r in t)e(r,t[r])}};try{NodeList.prototype.forEach=Array.prototype.forEach}catch(t){}String.prototype.lengthb=function(){return this.replace(/[^\x00-\xff]/g,"**").length},String.prototype.replaceAll=function(t,e){var r=new RegExp(t,"g");return this.replace(r,e)};var C={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(t){if(t)var e=t.el||document.body,r=t.model;"string"==typeof e&&(e=document.body.querySelector(e)),null!=e&&"object"==(void 0===e?"undefined":v(e))||(e=document.body),e.querySelectorAll("[u-meta]").forEach(function(t){if(!t.comp){var e=JSON.parse(t.getAttribute("u-meta"));if(e&&e.type){var o=C.createDataAdapter({el:t,options:e,model:r});o&&(t.adpt=o,t["u-meta"]=o)}}})},addPlug:function(t){var e=t.plug,r=t.name;if(this.plugs||(this.plugs={}),this.plugs[r])throw new Error("plug has exist:"+r);e.compType=r,this.plugs[r]=e},addDataAdapter:function(t){var e=t.adapter,r=t.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[r])throw new Error("dataAdapter has exist:"+r);this.dataAdapters[r]=e},getDataAdapter:function(t){if(t)return this.dataAdapters||(dataAdapters={}),this.dataAdapters[t]},createDataAdapter:function(t){var e=t.options,r=e.type,o=e.id,n=this.dataAdapters[r];if(!n)return null;var s=new n(t);return s.type=r,s.id=o,s},_createComp:function(t){var e=t.options.type,r=this.plugs[e];if(!r)return null;var o=new r(t);return o.type=e,o},regComp:function(t){var e={classConstructor:t.comp,className:t.compAsString||t.compAsString,cssClass:t.css||t.css,callbacks:[],dependencies:t.dependencies||[]};t.comp.prototype.compType=t.compAsString;for(var r=0;r<this.registeredControls.length;r++){var o=this.registeredControls[r];if(o.cssClass===e.cssClass)throw new Error("The provided cssClass has already been registered: "+o.cssClass);if(o.className===e.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(e)},updateComp:function(t){this._reorderComps();for(var e=0;e<this.registeredControls.length;e++)n(this.registeredControls[e].className,null,t)},_reorderComps:function(){function t(o){if(!b(o,e)){if(o.dependencies.length>0)for(var n=0,s=o.dependencies.length;n<s;n++)t(r[o.dependencies[n]]);e.push(o)}}for(var e=[],r={},o=0;o<this.registeredControls.length;o++)r[this.registeredControls[o].className]=this.registeredControls[o];for(o=0;o<this.registeredControls.length;o++)t(this.registeredControls[o]);this.registeredControls=e}},A=C,w=function t(e){if(!(this instanceof t)&&x(e))return a(e)};w.create=function(t,e){function r(){var e;return t.apply(this,arguments),this.constructor===r&&this.initialize&&(e=this.initialize.apply(this,arguments)),e||this}return x(t)||(e=t,t=null),e||(e={}),t||(t=e.Extends||w),e.Extends=t,t!==w&&c(r,t,t.StaticsWhiteList),s.call(r,e),a(r)},w.extend=function(t){return t||(t={}),t.Extends=this,w.create(t)},w.Mutators={Extends:function(t){var e=this.prototype,r=S(t.prototype);c(r,e),r.constructor=this,this.prototype=r,this.superclass=t.prototype},Implements:function(t){O(t)||(t=[t]);for(var e,r=this.prototype;e=t.shift();)c(r,e.prototype||e)},Statics:function(t){c(this,t)}};var S=Object.__proto__?function(t){return{__proto__:t}}:function(t){return i.prototype=t,new i},I=Object.prototype.toString,O=Array.isArray||function(t){return"[object Array]"===I.call(t)},x=function(t){return"[object Function]"===I.call(t)},T=function(t,e){if(Array.prototype.indexOf&&t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1},M=!0,N={toString:1};for(var k in N)M=null;M&&(M=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var j=function(t,e){var r,o=arguments;if(o.length>1)for(var n=1;n<o.length;n++)if(r=o[n],t&&r&&"object"===(void 0===r?"undefined":v(r))){var s,a,i;for(s in r)t[s]=r[s];if(M)for(a=M.length;a--;)i=M[a],r.hasOwnProperty&&r.hasOwnProperty(i)&&(t[i]=r[i])}return t};Object.assign||(Object.assign=j),(P={}).special_keys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},P.shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},P.add=function(t,e,r){x(e)&&(r=e,e={});var o={},n={type:"keydown",propagate:!1,disableInInput:!1,target:document.body,checkParent:!0},s=this;o=j(o,n,e||{}),t=t.toLowerCase();var a=o.target.hotkeys;return a||(o.target.hotkeys=a={events:{}}),a.events[o.type]||(a.events[o.type]={callbackMap:{}},on(o.target,o.type,function(t){var e=this;if(e=3==e.nodeType?e.parentNode:e,o.disableInInput){var r=e;if("INPUT"==r.tagName||"TEXTAREA"==r.tagName)return}var n=t.which,a=t.type,i=String.fromCharCode(n).toLowerCase(),c=s.special_keys[n],l=t.shiftKey,u=t.ctrlKey,p=t.altKey,d=null;if(o.checkParent)for(;!e.hotkeys&&e.parentNode;)e=e.parentNode;var f=e.hotkeys.events[a].callbackMap;if(l||u||p){var h="";p&&(h+="alt+"),u&&(h+="ctrl+"),l&&(h+="shift+"),d=f[h+c]||f[h+i]||f[h+s.shift_nums[i]]}else d=f[c]||f[i];if(d&&(d.cb(t),!d.propagate))return t.stopPropagation(),t.preventDefault(),!1})),a.events[o.type].callbackMap[t]={cb:r,propagate:o.propagate},P},P.remove=function(t,e){e=e||{},target=e.target||document.body,type=e.type||"keydown",t=t.toLowerCase(),delete target.hotkeys.events[type].callbackMap[t]},P.scan=function(t,e){(t=t||document.body).querySelectorAll("[u-enter]").forEach(function(r){var o=r.getAttribute("u-enter");if(o)if("#"==o.substring(0,1))P.add("enter",{target:this},function(){var e=t.querySelector(o);e&&e.focus()});else{e=e||window;var n=h(e,o);P.add("enter",{target:this},function(){n.call(this)})}}),t.querySelectorAll("[u-hotkey]").forEach(function(t){var e=t.getAttribute("u-hotkey");e&&P.add(e,function(){t.click()})})};var P=P,D=function t(){g(this,t),this.init=_,this.dataTables={}},_=function(t,e,r){var o=this;e=e||document.body,y(e)||(e=[e]),this.elements=e,this.comps=[],E(this.elements,function(e,n){"string"==typeof n&&(n=document.querySelector(n)),n&&n.querySelectorAll("[u-meta]").forEach(function(e){var r=JSON.parse(e.getAttribute("u-meta"));if(r.type=r.type||"string",r&&r.type){o.adjustFunc&&o.adjustFunc.call(o,r);var n=A.createDataAdapter({el:e,options:r,model:t,app:o});e["u-meta"]=n,o.comps.push(n)}}),P&&P.scan(n),void 0!==r&&1!=r||ko.applyBindings(t,n),A.updateComp(n)}),Moy.DataTable&&"function"==typeof Moy.DataTable&&L(this,t)},L=function(t,e){for(var r in e)e[r]&&e[r]instanceof Moy.DataTable&&(e[r].id=r,e[r].parent=e,t.addDataTable(e[r]))},R=function(t){this.adjustFunc=t},q=function(t){return this.dataTables[t.id]=t,this},F=function(t){return this.dataTables[t]},B=function(){return this.dataTables},U=function(t,e){var r=JSON.parse(t.getAttribute("u-meta"));if(r&&r.type){var o=A.createDataAdapter({el:t,options:r,model:e,app:this});t["u-meta"]=o,this.comps.push(o)}return o},X=function(t){for(var e=this.getComps(),r=0;r<e.length;r++){var o=e[r];if(o.id==t)return o}return null},V=function(t,e){for(var r=this.getComps(e),o=[],n=0;n<r.length;n++)(r[n].dataModel&&r[n].dataModel.id==t||r[n].dataTable&&r[n].dataTable.id==t)&&o.push(r[n]);return o},W=function(t,e){for(var r=this.getComps(e),o=[],n=0;n<r.length;n++){var s=r[n];s&&s.type==t&&o.push(s)}return o},H=function(t){return t?this.getCompsByElement(t):this.comps},J=function(t){var e=t||this.elements,r=[];return"string"==typeof e&&(e=document.querySelectorAll(e)),y(e)||e instanceof NodeList||(e=[e]),E(e,function(t,e){e&&e.querySelectorAll("[u-meta]").forEach(function(t){if(t["u-meta"]){var e=t["u-meta"];e&&r.push(e)}})}),r},z=function(t){var e=t.element,r=f(e),o=m(e),n=r.top-o.top,s=document.body.clientHeight,a=document.body.scrollTop;(n>s||n<0)&&(document.body.scrollTop=a+n)},K={};j(K,{isIE:!1,isFF:!1,isOpera:!1,isChrome:!1,isSafari:!1,isWebkit:!1,isIE8_BEFORE:!1,isIE8:!1,isIE8_CORE:!1,isIE9:!1,isIE9_CORE:!1,isIE10:!1,isIE10_ABOVE:!1,isIE11:!1,isEdge:!1,isIOS:!1,isIphone:!1,isIPAD:!1,isStandard:!1,version:0,isWin:!1,isUnix:!1,isLinux:!1,isAndroid:!1,isAndroidPAD:!1,isAndroidPhone:!1,isMac:!1,hasTouch:!1,isMobile:!1}),function(){var t=navigator.userAgent,e=/(msie\s|trident.*rv:)([\w.]+)/,r=/(firefox)\/([\w.]+)/,o=/(opera).+version\/([\w.]+)/,n=/(chrome)\/([\w.]+)/,s=/version\/([\w.]+).*(safari)/,a=t.toLowerCase(),i={browser:"",version:""},c=e.exec(a);if(null!=c&&(i={browser:"IE",version:c[2]||"0"}),null!=(c=r.exec(a))&&(i={browser:c[1]||"",version:c[2]||"0"}),null!=(c=o.exec(a))&&(i={browser:c[1]||"",version:c[2]||"0"}),null!=(c=n.exec(a))&&(i={browser:c[1]||"",version:c[2]||"0"}),null!=(c=s.exec(a))&&(i={browser:c[2]||"",version:c[1]||"0"}),t.indexOf("Edge")>-1&&(K.isEdge=!0),a.match(/opera.([\d.]+)/)?K.isOpera=!0:"IE"==i.browser&&11==i.version?(K.isIE11=!0,K.isIE=!0):a.match(/chrome\/([\d.]+)/)?(K.isChrome=!0,K.isStandard=!0):a.match(/version\/([\d.]+).*safari/)?(K.isSafari=!0,K.isStandard=!0):a.match(/gecko/)?(K.isFF=!0,K.isStandard=!0):a.match(/msie ([\d.]+)/)?K.isIE=!0:a.match(/firefox\/([\d.]+)/)&&(K.isFF=!0,K.isStandard=!0),a.match(/webkit\/([\d.]+)/)&&(K.isWebkit=!0),a.match(/ipad/i)&&(K.isIOS=!0,K.isIPAD=!0,K.isStandard=!0),a.match(/iphone/i)&&(K.isIOS=!0,K.isIphone=!0),"Mac68K"!=navigator.platform&&"MacPPC"!=navigator.platform&&"Macintosh"!=navigator.platform&&"MacIntel"!=navigator.platform||(K.isMac=!0),"Win32"!=navigator.platform&&"Windows"!=navigator.platform&&"Win64"!=navigator.platform||(K.isWin=!0),"X11"!=navigator.platform||K.isWin||K.isMac||(K.isUnix=!0),String(navigator.platform).indexOf("Linux")>-1&&(K.isLinux=!0),(a.indexOf("Android")>-1||a.indexOf("android")>-1||a.indexOf("Adr")>-1||a.indexOf("adr")>-1)&&(K.isAndroid=!0),K.version=0,K.isAndroid&&(window.screen.width>=768&&window.screen.width<1024&&(K.isAndroidPAD=!0),window.screen.width<=768&&(K.isAndroidPhone=!0)),K.isIE){var l=parseInt(K.version),u=document.documentMode;null==u?6!=l&&7!=l||(K.isIE8_BEFORE=!0):(7==u?K.isIE8_BEFORE=!0:8==u?K.isIE8=!0:9==u?(K.isIE9=!0,K.isSTANDARD=!0):10==u?(K.isIE10=!0,K.isSTANDARD=!0,K.isIE10_ABOVE=!0):K.isSTANDARD=!0,8==l?K.isIE8_CORE=!0:9==l?K.isIE9_CORE=!0:11==i.version&&(K.isIE11=!0))}"ontouchend"in document&&(K.hasTouch=!0),(K.isIphone||K.isAndroidPhone)&&(K.isMobile=!0)}();var G=K,Q=function(t,e){for(var r=this.getComps(t),o=!0,n=[],s=0;s<r.length;s++)if(r[s].doValidate){var a=r[s].doValidate({trueValue:!0,showMsg:!0});o=(a="object"===(void 0===a?"undefined":v(a))?a.passed:a)&&o,a||n.push(r[s])}return e?n:o},Y=function(t){for(var e=t.element,r=this.getComps(e),o=!0,n=t.showMsg,s=new Array,a=0;a<r.length;a++)if(r[a].doValidate){var i=r[a].doValidate({trueValue:!0,showMsg:n});if(o&&!i.passed){var c=f(r[a].element);window.scrollTo(0,c.top-80),G.isIPAD&&window.top.scrollTo(0,c.top-80)}o=i.passed&&o,i.passed||s.push(i)}return{passed:o,notPassedArr:s}},Z=function(t,e){var r=this.getEnvironment().usercode;r&&localStorage.setItem(r+t,e)},tt=function(t){var e=this.getEnvironment().usercode;if(e)return localStorage.getItem(e+t)},et=function(t){var e=this.getEnvironment().usercode;e&&localStorage.removeItem(e+t)},rt=function(t,e){localStorage.setItem(t,e)},ot=function(t){return localStorage.getItem(t)},nt=function(t){localStorage.removeItem(t)},st=function(t,e){sessionStorage.setItem(t,e)},at=function(t){return sessionStorage.getItem(t)},it=function(t){sessionStorage.removeItem(t)},ct=function(){return u.core.collectEnvironment()},lt=function(t,e){u.core.setClientAttribute(t,e)},ut=function(t){return u.core.getClientAttributes()[t]},pt={get:"get",post:"post",reqCount:4,createXhr:function(){var t=null;return G.isIE8?t=new ActiveXObject("Microsoft.XMLHTTP"):G.isIE?t=new ActiveXObject("Msxml2.XMLHTTP"):window.XMLHttpRequest&&(t=new XMLHttpRequest),t},ajax:function(t){var e=t.url,r=t.success,o=void 0==t.async||t.async,n=t.error,s=t.data||{},a=(void 0==t.type?pt.post:t.type).toLowerCase();s.compressType;e=pt.serializeUrl(e),s=pt.serializeParams(s),a==pt.get&&null!=s&&(e+="&"+s,s=null);var i=pt.createXhr();i.open(a,e,o),a==pt.post&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8");var c=0;o?(i.onreadystatechange=function(){c++,i.readyState==pt.reqCount&&pt.execBack(i,r,n)},i.send(s)):(i.send(s),pt.execBack(i,r,n))},execBack:function(t,e,r){if(200==t.status||304==t.status||4==t.readyState)e(t.responseText,t.status,t);else if(r)r(t.responseText,t.status,t);else{var o="no error callback function!";t.responseText&&(o=t.responseText),alert(o)}},serializeUrl:function(t){var e="cache="+Math.random();return t.indexOf("?")>0?t+="&"+e:t+="?"+e,t},serializeParams:function(t){if(void 0==t||null==t||""==t)return null;if(t.constructor==Object){var e="";for(var r in t)e+=r+"="+encodeURIComponent(t[r])+"&";return e.substring(0,e.length-1)}return t}},dt=pt.ajax,ft=function(t){t=ht.call(this,t),dt(t)},ht=function(t){var e=this;this.serverEventObj=this.serverEvent();var r=t.success,o=t.error,n=t.deferred;return n&&n.resolve||(n={resolve:function(){},reject:function(){}}),t.success=function(t,o,s){"string"==typeof t&&(t=JSON.parse(t)),e.serverEventObj.processXHRError(e,t,o,s)?(r.call(null,t),mt(t,n)):n.reject()},t.error=function(t,r,s){"string"==typeof t&&(t=JSON.parse(t)),e.serverEventObj.processXHRError(e,t,r,s)?(o.call(null,t),mt(t,n)):n.reject()},t.data?t.data.environment=ko.utils.stringifyJson(u.core.collectEnvironment()):t.data={environment:ko.utils.stringifyJson(u.core.collectEnvironment())},t},mt=function(t,e){e.resolve()},vt=function(){return new ServerEvent(this)},gt=function(t){E(this.elements,function(e,r){r&&r.querySelectorAll("[u-meta]").each(function(){if(this["u-meta"]){var e=this["u-meta"];e.setEnable&&e.setEnable(t)}})})};return l(function(){D.prototype.setAdjustMetaFunc=R,D.prototype.addDataTable=q,D.prototype.getDataTable=F,D.prototype.getDataTables=B,D.prototype.createComp=U,D.prototype.getComp=X,D.prototype.getCompsByDataTable=V,D.prototype.getCompsByType=W,D.prototype.getComps=H,D.prototype.getCompsByElement=J,D.prototype.showComp=z,D.prototype.compsValidate=Q,D.prototype.compsValidateMultiParam=Y,D.prototype.setUserCache=Z,D.prototype.getUserCache=tt,D.prototype.removeUserCache=et,D.prototype.setCache=rt,D.prototype.getCache=ot,D.prototype.removeCache=nt,D.prototype.setSessionCache=st,D.prototype.getSessionCache=at,D.prototype.removeSessionCache=it,D.prototype.getEnvironment=ct,D.prototype.setClientAttribute=lt,D.prototype.getClientAttribute=ut,D.prototype.ajax=ft,D.prototype.serverEvent=vt,D.prototype.setEnable=gt}),{App:D,createApp:function(){var t=new D;if(arguments.length>0){var e=arguments[0];t.init(e.model,e.el)}return t},compMgr:A,use:l,component:function(t){}}}();
